$(document).ready(function(){var n,r,t,o,a,e,u,i,c,p,d;return n=[800,600],r=n[0],t=n[1],o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19].map(function(n){var o,a,e,u,i,c;return o=[Math.random()*r,Math.random()*t],a=o[0],e=o[1],u=i=40,c=-100,{x:a,y:e,idx:n,rx:u,ry:i,charge:c}}),a=d3.geom.voronoi().clipExtent([[0,0],[r,t]]).x(function(n){return n.x}).y(function(n){return n.y}),e=function(){var n,r;return n=a(o),r=40,o.map(function(t,o){var a;return a=d3.geom.polygon(function(){var n,t,o=[];for(n=0,t=r;t>n;++n)o.push(n);return o}().map(function(n){return[t.x+t.rx*Math.cos(3.14*(360/r)*n/180),t.y-t.ry*Math.sin(3.14*(360/r)*n/180)]})),t.jump&&(t.px=t.x+100*Math.random(),t.py=t.y+100*Math.random(),t.jump=0),t.polygon=n[o].length?a.clip(d3.geom.polygon(n[o])):[]})},e(),u=d3.select("svg"),i=c=u.selectAll("path.voronoi").data(o).enter().append("path"),i.attr("class","voronoi"),i.on("mouseover",function(n){return n.jump=1}),p=function(){return e(),c.data(o).attr({stroke:"#000","stroke-width":"1",fill:"rgba(0,0,0,0.1)",d:function(n){return n.polygon.length?"M"+n.polygon.join("L")+"Z":void 0}}),d.alpha(.9)},d=d3.layout.force().size([r,t]).nodes(o),d.charge(function(n){return Math.random()<.1?-10:n.charge}),d.on("tick",p).start()});