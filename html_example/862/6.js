$(document).ready(function(){var t,n,r,e,a,o,c,u,i,d;for(t=d3.scale.linear().domain([2,12]).range(["#090","#f00"]),n=function(){return spline.update(r,e),o.attr({cx:function(t){return t.x},cy:function(t){return t.y},r:function(t){return t.r},fill:function(n){return t(n.r)}}),c.attr({d:function(t){return t.d},fill:"none",stroke:"#444"}),a.alpha(.01)},r=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59].map(function(t){return{idx:t,r:parseInt(10*Math.random())+2,x:400*Math.random()+200,y:300*Math.random()+50}}),e=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58].map(function(t){return{source:r[t],target:r[t+1]}}),a=d3.layout.force().size([800,400]).charge(function(t){return 10*-t.r}).alpha(.01).gravity(.1),a.nodes(r).links(e).on("tick",n).start(),o=d3.select("svg").selectAll("circle").data(r).enter().append("circle"),c=d3.select("svg").selectAll("path").data(e).enter().append("path").each(function(t){return t.node=this}),u=0,i=r.length;i>u;++u)d=r[u],d.x=d.px=400*Math.random()+200,d.y=d.py=300*Math.random()+50;return n(),a.stop(),window.reset=function(){var t,n,e,o,c=[];for(a.start(),t=0,e=(n=r).length;e>t;++t)o=n[t],o.x=o.px=400*Math.random()+200,c.push(o.y=o.py=300*Math.random()+50);return c}});